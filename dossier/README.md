# MVP Level 4 Реализация микросервиса Кредитное досье (dossier)

Реализация микросервиса Кредитное Досье (dossier), основная задача которого - на основании полученный из kafka сообщений отправлять email-оповещения на почту клиенту и формировать документы о кредите (кредитное досье) <br>

Добавлены API в МС-deal:<br>
`POST: /deal/document/{applicationId}/send` - запрос на отправку документов. <br>
`POST: /deal/document/{applicationId}/sign` - запрос на подписание документов <br>
`POST: /deal/document/{applicationId}/code` - подписание документов <br>

Темы, по которым отправляются сообщения на почту: <br>

1. `finish-registration` - событие отправляется после выбора конкретного кредитного предложения. На почту отправляется email, предлагающий пользователю окончить регистрацию. <br>

2. `create-documents` - событие отправляется после успешного прохождения скоринга. На почту клиенту отправляется предложение отправить запрос на создание документов.<br>

3. `send-documents` - событие отправляется после запроса на создание документов. На почту клиенту отправляются сформированные документы и предложение отправить запрос на подписание документов.<br>

4. `send-ses` - событие отправляется после запроса на подписание документов. На почту клиенту отправляется код ПЭП (SES) и предложение отправить этот код вместе с id заявки по ссылке подписание.<br>

5. `credit-issued` - событие отправляется после подписания документов. На почту клиенту отправляется сообщение с подтверждением успешного взятия кредита.<br>

6. `application-denied` - событие отправляется либо если пользователь сам отказался от кредита, либо провалил этап скоринга. На почту клиенту отправляется сообщение о том, что заявка отклонена.<br>
